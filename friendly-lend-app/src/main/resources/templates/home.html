<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/commons::head}"></head>
<body>
<header th:replace="~{fragments/commons::nav}"></header>
<div class="floating-motto">
    <div class="line1">Itâ€™s not vintage.</div>
    <div class="line2">Itâ€™s shared.</div>
</div>
<img src="/images/women.png" class="image-floating image-left" alt="Left Side Women">
<img src="/images/beach-woman.png" class="image-floating image-right" alt="Right Side Woman">
<main>
    <div class="welcome mt-1 mb-4">
        <p class="mySticky bg-gray text-dark user" th:text="${'Welcome ' + user.username}"></p>
        <div class="row mt-1 mb-2">
            <div class="col-6 mt-1 mb-1">
                <div class="home-fields closet-bg" style="height: 30vh; overflow: auto">
                    <h3 class="my-stamps">
                        My Lending Closet
                    </h3>
                    <p>Your shared wardrobe lives here. Ready to grow it?</p>
                    <div class="button-container">
                        <a th:href="@{/items/my-closet}" class="btn btn-light">Take a look inside</a>
                    </div>
                </div>
            </div>

            <div class="col-6 mt-1 mb-1">
                <div class="home-fields offers-bg" style="height: 30vh; overflow: auto">
                    <h3 class="my-stamps">Offered Items</h3>
                    <p>What others are sharing â€” take a look.</p>

                    <div class="button-container">
                        <a th:href="@{/items/offers}" class="btn btn-light">Offered Items</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-1 mb-2">
            <div class="col-6 mt-1 mb-1">
                <div class="home-fields" style="height: 30vh; overflow: auto">
                    <h3 class="my-stamps">Profile</h3>
                    <p>Your profile at a glance â€” and always ready for updates.</p>
                    <div class="button-container">
                        <a th:href="@{'/users/' + ${user.id} + '/my-profile'}" class="btn btn-light">Update profile</a>
                    </div>
                    <div th:if="${unreadNotifications != null and unreadNotifications.size() > 0}" class="mt-2">
                        <p class="text-danger font-weight-bold">
                            ðŸ”” You have <span th:text="${unreadNotifications.size()}"></span> new notification(s)!
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-6 mt-1 mb-1">
                <div class="home-fields" style="height: 30vh; overflow: auto">
                    <h3 class="my-stamps eco-heading"><img src="/images/clover.png" class="eco-icon" alt="Eco Icon">
                    Our Eco Surveys
                    </h3>
                    <p>
                       Explore our eco surveys and learn more about the causes.<br>
                       Quick votes. Real causes. Make your impact here.<br>
                       Support what matters â€” one click at a time.
                    </p>
                    <div class="button-container mb-3">
                        <a th:href="@{/surveys/user-survey}" class="btn btn-light">My Survey Support</a>
                    </div>


                    <p>
                        <strong>SUSTAINABILITY</strong> â€“ Sustainable clothing consumption reduces overproduction and preserves valuable natural resources.
                        <a href="#" onclick="document.getElementById('sustainability-more').style.display='block'; this.style.display='none'; return false;">Read more</a>
                    </p>
                    <p id="sustainability-more" style="display: none;">
                        Choosing sustainable fashion means prioritizing quality over quantity, reducing the pressure on textile production.
                        It promotes brands that use eco-friendly materials and ethical labor.
                        Supporting this movement helps build a more responsible and circular fashion industry.
                    </p>
                        <div class="button-container">
                            <a th:if="${user}"
                               th:href="@{/surveys/vote(subject=${'SUSTAINABILITY'}, support=${'SUPPORT'})}"
                               class="btn btn-light mt-2">
                                Vote & support
                            </a>
                        </div>
                    <hr/>

                    <p>
                        <strong>ENVIRONMENT</strong> â€“ By renting clothes instead of buying new ones, we reduce plastic pollution from synthetic materials and waste.
                        <a href="#" onclick="document.getElementById('environment-more').style.display='block'; this.style.display='none'; return false;">Read more</a>
                    </p>
                    <p id="environment-more" style="display: none;">
                        Synthetic fabrics like polyester shed microplastics into the water system when washed.
                        Renting clothes instead of constantly purchasing reduces the number of garments produced, which directly lowers pollution.
                        This helps combat the fashion industryâ€™s massive environmental footprint.
                    </p>
                    <div class="button-container">
                        <a th:if="${user}"
                           th:href="@{/surveys/vote(subject=${'ENVIRONMENT'}, support=${'SUPPORT'})}"
                           class="btn btn-light mt-2">
                            Vote & support
                        </a>
                    </div>
                    <hr/>

                    <p>
                        <strong>RECYCLING</strong> â€“ Giving clothes a second life through reuse extends their lifespan and reduces textile waste.
                        <a href="#" onclick="document.getElementById('recycling-more').style.display='block'; this.style.display='none'; return false;">Read more</a>
                    </p>
                    <p id="recycling-more" style="display: none;">
                        Textile recycling keeps clothing out of landfills and reduces demand for new raw materials.
                        Reusing items helps save water, energy, and chemicals needed in production.
                        Supporting recycling contributes to a more sustainable and responsible fashion cycle.
                    </p>
                    <div class="button-container">
                        <a th:if="${user}"
                           th:href="@{/surveys/vote(subject=${'RECYCLING'}, support=${'SUPPORT'})}"
                           class="btn btn-light mt-2">
                            Vote & support
                        </a>
                    </div>
                    <hr/>
                </div>
            </div>
        </div>

        <div class="row mt-1 mb-2">
            <div class="col-6 mt-1 mb-1">
                <div class="home-fields" style="height: 30vh; overflow: auto">
                    <h3 class="my-stamps">Preferred Delivery Spot</h3>
                    <p>
                        Choose your go-to meeting spot for swaps â€” simple & local.<br>
                        No couriers needed â€” just simple, trusted handoffs between friends.<br>
                        You can update your selection at any time.
                    </p>
                    <div class="button-container">
                        <a th:href="@{/locations/my-location}" class="btn btn-light">My Delivery Spot</a>
                    </div>
                </div>
            </div>

            <div class="col-6 mt-1 mb-1" th:if="${user.role.name() == 'ADMIN'}">
                <div class="home-fields" style="height: 30vh; overflow: auto">
                    <h3 class="my-stamps">Admin Panel</h3>
                    <p>Manage user roles.</p>
                    <div class="button-container mt-3">
                        <a th:href="@{/users}" class="btn btn-light">User Management</a>
                    </div>
                    <hr/>
                <h5 class="mt-3">Survey Support Stats:</h5>
                <ul>
                    <li th:each="entry : ${surveyStats}">
                        <span th:text="${entry.key}">Topic</span>: <strong th:text="${entry.value}">0</strong>
                    </li>
                </ul>
            </div>
            </div>
        </div>
        </div>

</main>
<footer class="footer bg-transparent py-2">
</footer>
</body>
</html>
